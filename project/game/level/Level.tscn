[gd_scene load_steps=8 format=3 uid="uid://dlcfb4y7xjjl3"]

[ext_resource type="Script" path="res://game/level/Level.gd" id="1_3c5y1"]
[ext_resource type="PackedScene" uid="uid://qm8ijblbhiyt" path="res://game/level/GridView.tscn" id="2_yywdk"]
[ext_resource type="PackedScene" uid="uid://plt8snslppc5" path="res://game/level/BrushPicker.tscn" id="3_gfx50"]
[ext_resource type="PackedScene" uid="uid://bsgjxsq2lu5y2" path="res://game/level/Counter.tscn" id="4_m6y7y"]
[ext_resource type="PackedScene" uid="uid://dr18tk67tc6uq" path="res://game/settings/SettingsScreen.tscn" id="5_1j60w"]

[sub_resource type="ButtonGroup" id="ButtonGroup_ke4fj"]

[sub_resource type="ButtonGroup" id="ButtonGroup_syhq8"]

[node name="Level" type="Node2D"]
script = ExtResource("1_3c5y1")

[node name="CenterContainer" type="CenterContainer" parent="."]
offset_right = 1920.0
offset_bottom = 1080.0

[node name="GridView" parent="CenterContainer" instance=ExtResource("2_yywdk")]
layout_mode = 2

[node name="SolveButton" type="Button" parent="."]
offset_left = 147.0
offset_top = 521.0
offset_right = 308.0
offset_bottom = 591.0
text = "Auto-solve!"

[node name="Counters" type="VBoxContainer" parent="."]
offset_left = 1625.0
offset_top = 159.0
offset_right = 1861.0
offset_bottom = 410.0

[node name="WaterCounter" parent="Counters" instance=ExtResource("4_m6y7y")]
layout_mode = 2
counter_name = "WATERS_COUNTER"

[node name="BoatCounter" parent="Counters" instance=ExtResource("4_m6y7y")]
layout_mode = 2
counter_name = "BOATS_COUNTER"

[node name="MistakeCounter" parent="Counters" instance=ExtResource("4_m6y7y")]
layout_mode = 2

[node name="BrushPicker" parent="." instance=ExtResource("3_gfx50")]
offset_bottom = 0.0
editor_mode = true

[node name="Water" parent="BrushPicker/Buttons" index="0"]
button_group = SubResource("ButtonGroup_ke4fj")

[node name="Boat" parent="BrushPicker/Buttons" index="1"]
button_group = SubResource("ButtonGroup_ke4fj")

[node name="Wall" parent="BrushPicker/Buttons" index="2"]
button_group = SubResource("ButtonGroup_syhq8")

[node name="SettingsScreen" parent="." instance=ExtResource("5_1j60w")]

[connection signal="mistake_made" from="CenterContainer/GridView" to="Counters/MistakeCounter" method="add_count"]
[connection signal="updated" from="CenterContainer/GridView" to="." method="_on_grid_updated"]
[connection signal="pressed" from="SolveButton" to="." method="_on_solve_button_pressed"]
[connection signal="brushed_picked" from="BrushPicker" to="." method="_on_brush_picker_brushed_picked"]

[editable path="BrushPicker"]
